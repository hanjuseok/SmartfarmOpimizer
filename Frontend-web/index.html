<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스마트팜 모니터링</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
    <header>
        <div class="tree-container">
            <div class="tree">
                <div class="branch" style="--x:0">
                    <span style="--i:0;"></span>
                    <span style="--i:1;"></span>
                    <span style="--i:2;"></span>
                    <span style="--i:3;"></span>
                </div>
                <div class="branch" style="--x:1">
                    <span style="--i:0;"></span>
                    <span style="--i:1;"></span>
                    <span style="--i:2;"></span>
                    <span style="--i:3;"></span>
                </div>
                <div class="branch" style="--x:2">
                    <span style="--i:0;"></span>
                    <span style="--i:1;"></span>
                    <span style="--i:2;"></span>
                    <span style="--i:3;"></span>
                </div>
                <div class="branch" style="--x:3">
                    <span style="--i:0;"></span>
                    <span style="--i:1;"></span>
                    <span style="--i:2;"></span>
                    <span style="--i:3;"></span>
                </div>
                <div class="stem">
                    <span style="--i:0;"></span>
                    <span style="--i:1;"></span>
                    <span style="--i:2;"></span>
                    <span style="--i:3;"></span>
                </div>
                <span class="shadow"></span>
            </div>
        </div>
        <h1 style="text-align: center; flex-grow: 1;">스마트팜 모니터링</h1>
        <div id="clock" style="text-align: center;"></div>
    </header>
    <main>
        <div class="chart-container">
            <canvas id="myChart"></canvas>
        </div>
        
        <div class="controls">
            <input type="number" id="timeInput" placeholder="시간 입력" />
            <select id="timeUnit">
                <option value="seconds">초</option>
                <option value="minutes">분</option>
                <option value="hours">시간</option>
            </select>
            <button onclick="setTimeRange()">시간 단위 설정</button>
            <button onclick="setTemperature()">온도 조절</button>
            <button onclick="setHumidity()">습도 조절</button>
            <button onclick="setSoilMoisture()">토양 수분 조절</button>
        </div>
        
        <div class="data-analysis">
            <h2>데이터 분석</h2>
            <select id="periodSelect">
                <option value="daily">일별</option>
                <option value="weekly">주별</option>
                <option value="monthly">월별</option>
            </select>
            <button onclick="fetchData()">데이터 조회</button>
            <div class="analysis-chart">
                <canvas id="analysisChart"></canvas>
            </div>
        </div>
        
        <div class="automation-controls">
            <h2>알림 설정</h2>
            <div>
                <label for="humidityThreshold">토양 수분 임계값:</label>
                <input type="number" id="humidityThreshold" placeholder="토양 수분 임계값" />
            </div>
            <div>
                <label for="temperatureThreshold">온도 임계값:</label>
                <input type="number" id="temperatureThreshold" placeholder="온도 임계값" />
            </div>
            <button onclick="setAutomationRules()">알림 설정</button>
        </div>
    </main>
</body>
</html>
